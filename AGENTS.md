# Project-Specific Guidelines: ag-scripts

This file extends the global AIQ-Ralph Codex configuration (`~/.codex/AGENTS.md`).

---

## Selected Policies

Load the following policy modules from `~/.codex/policies/`:

- `languages/python.md`
- `languages/bash.md`
- `git/standard.md`
- `release-safety/minimal.md`

---

## Project Overview

- **Type**: Utility script monorepo
- **Language**: Python, Bash/Shell (with PowerShell subprojects)
- **Purpose**: Linux desktop automation, system configuration, and quality-of-life tooling; each subdirectory is a self-contained project.

---

## Relaxed Rules

- **Release safety level**: Using `release-safety/minimal.md` rather than stricter profiles.
- **Justification**: Many independent small utilities with local blast radius.
- **Risk**: This is a higher-risk relaxation if release discipline slips.

---

## Additional Rules

- Use system Python (`/usr/bin/python` or `/usr/bin/python3`), not conda/miniforge.
- Keep tests in each sub-project’s `tests/` directory and run relevant tests for changed sub-projects.
- For every completed spec or release-level change, add/update a validation report in that project’s `validation-reports/` directory before final push.
- In validation reports, keep **Phase 4** strictly about code quality (structure, duplication, robustness, dead code, residual gaps), not feature checklisting.
- Do not generate artifacts (especially images) unless explicitly requested.
- Before running scripts, prefer observable runs (`--debug` if available) and capture stdout/stderr when diagnosing.
- For long-running GUI/background scripts, start from a clean slate by terminating prior instances when safe to do so.
- For KDE/Wayland always-on-top behavior, use KWin rules rather than X11-only tools.

---

## Environment

- Python 3.12.12
- pytest 9.0.2
- Bash 5.3.9
- Zsh 5.9
- CI/CD: No root `.github/workflows` detected; validation is primarily local per sub-project.
- Repository layout: multi-project monorepo with per-project `README.md`, `specs/`, and often `tests/`, `install.sh`, `uninstall.sh`.

---

## Security Extensions

- Security review pass is mandatory for each implementation cycle.
- Secrets detection is mandatory before commit/release.
- Prefer least-privilege and read-only operations unless system modification is explicitly required and approved.

---

## Configuration Summary

| Category | Setting | Notes |
|----------|---------|-------|
| Validation Reports | Per completed spec or release-level change | Keep `validation-reports/` traceability |
| Code Quality Checks | Required refactor pass each cycle | Skip only for docs-only edits |
| Test Requirements | Run impacted sub-project tests | Full repo run optional in monorepo |
| Communication Style | Concise with explicit blockers/assumptions | Fast iteration |
| Tool Installation | Explicit user approval required | No auto-install |
| Policies | python, bash, git/standard, release-safety/minimal | Matches legacy baseline |
| Security | Mandatory security review + secrets scan | Non-relaxable |

---

*Generated by ralph-setup-codex on 2026-02-18*
