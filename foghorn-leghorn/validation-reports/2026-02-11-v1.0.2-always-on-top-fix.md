## Validation Report: Always-on-Top Fix via KWin Rule (v1.0.2)
**Date**: 2026-02-11
**Status**: PASSED

### Phase 3: Tests
- Test suite: `pytest -v`
- Results: 46 passing, 0 failing
- Coverage: Core logic, SoundPlayer, bundled sounds, GUI startup (8 smoke tests)
- Status: PASSED

### Phase 4: Code Quality
- Dead code: None found
- Duplication: None found
- Encapsulation: install_kwin_rule.py follows established project pattern, all functions under 30 lines
- Status: PASSED

### Phase 5: Security Review
- Dependencies: No new dependencies (uses stdlib configparser and subprocess)
- OWASP Top 10: All subprocess calls use list form, no shell=True in main logic, file writes restricted to ~/.config/kwinrulesrc
- Anti-patterns: None found
- Status: PASSED

### Phase 5.5: Release Safety
- Change type: Code-only (new script + installer updates)
- Rollback plan: Run `install_kwin_rule.py --uninstall` to remove KWin rule, revert commit
- Status: PASSED

### Changes in v1.0.2
- `install_kwin_rule.py` - New script to install/uninstall KWin keep-above rule for always-on-top on Wayland
- `install.sh` - Now calls install_kwin_rule.py during installation
- `uninstall.sh` - Now calls install_kwin_rule.py --uninstall during removal
- `foghorn_leghorn.py` - Version bump to 1.0.2 (Qt WindowStaysOnTopHint kept as belt-and-suspenders)
- `README.md` - Added v1.0.2 changelog entry

### Root Cause
KDE Plasma on Wayland does not honor Qt's `WindowStaysOnTopHint` (known Qt bug QTBUG-73456). The Wayland `xdg-shell` protocol intentionally does not allow client applications to control window stacking order. The fix uses KWin rules (`~/.config/kwinrulesrc`) with `above=true` / `aboverule=2` (Force) to enforce keep-above at the compositor level.

### Overall
- All gates passed: YES
